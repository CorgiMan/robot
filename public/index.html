<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Robot WebSocket State Monitor</title>
    <link rel="stylesheet" href="reset.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>ðŸ¤– Robot State Monitor</h1>
            <div class="connection-status" id="connectionStatus">
                <span class="status-indicator" id="statusIndicator"></span>
                <span class="status-text" id="statusText">connecting...</span>
            </div>
        </header>

        <main class="main-content">
            <!-- <div class="state-grid">
                <div class="state-card" id="stateA">
                    <div class="state-label">Value A</div>
                    <div class="state-value" id="valueA">--</div>
                    <div class="state-bar">
                        <div class="state-progress" id="progressA"></div>
                    </div>
                </div>

                <div class="state-card" id="stateB">
                    <div class="state-label">Value B</div>
                    <div class="state-value" id="valueB">--</div>
                    <div class="state-bar">
                        <div class="state-progress" id="progressB"></div>
                    </div>
                </div>

                <div class="state-card" id="stateC">
                    <div class="state-label">Value C</div>
                    <div class="state-value" id="valueC">--</div>
                    <div class="state-bar">
                        <div class="state-progress" id="progressC"></div>
                    </div>
                </div>

                <div class="state-card" id="stateD">
                    <div class="state-label">Value D</div>
                    <div class="state-value" id="valueD">--</div>
                    <div class="state-bar">
                        <div class="state-progress" id="progressD"></div>
                    </div>
                </div>
            </div> -->
            <div class="flex-row">
                <div id="free" class="three-d-section">
                    <div class="three-d-container">
                        <h3 id="title">Perspective View</h3>
                        <div id="threeContainer" class="three-d-canvas"></div>
                        <div id="robot3DViewPanel" class="three-d-controls">
                            <button id="resetCamera" class="control-btn">Reset Camera</button>
                            <div class="control-info">
                                <span>Mouse: Rotate | Scroll: Zoom | Right-click: Pan</span>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Control Panel for Robot Joints -->
                <div id="robotControlPanel" class="control-panel-section">
                    <div class="control-panel-container">
                        <h3>Robot Control Panel</h3>

                        <div id="robotControlForm" autocomplete="off">
                            <div class="control-input-row">
                                <label></label>
                                <label>Target</label>
                                <label>Current</label>
                            </div>
                            <div class="control-input-row">
                                <label for="liftInput">Lift</label>
                                <input id="liftInput" name="lift" min="0" max="100" step="1" required></input>
                                <span class="target-state" id="liftCurrent">0</span>
                            </div>
                            <div class="control-input-row">
                                <label for="swingInput">Swing</label>
                                <input id="swingInput" name="swing" min="0" max="100" step="1" required></input>
                                <span class="target-state" id="swingCurrent">0</span>
                            </div>
                            <div class="control-input-row">
                                <label for="elbowInput">Elbow</label>
                                <input id="elbowInput" name="elbow" min="0" max="100" step="1" required></input>
                                <span class="target-state" id="elbowCurrent">0</span>
                            </div>
                            <div class="control-input-row">
                                <label for="wristInput">Wrist</label>
                                <input id="wristInput" name="wrist" min="0" max="100" step="1" required></input>
                                <span class="target-state" id="wristCurrent">0</span>
                            </div>
                            <div class="control-input-row">
                                <label for="gripperInput">Gripper</label>
                                <input id="gripperInput" name="gripper" min="0" max="100" step="1" required></input>
                                <span class="target-state" id="gripperCurrent">0</span>
                            </div>
                            
                        </div>
                        <div class="control-panel-buttons">
                            <button id="submitButton" type="submit" class="control-btn">Submit</button>
                            <button id="resetButton" type="reset" class="control-btn control-btn-secondary">Reset</button>
                        </div>

                        <div id="coordinateControlForm" autocomplete="off">
                            <div class="control-input-row">
                                <label></label>
                                <label>Target</label>
                                <label>Current</label>
                            </div>
                            <div class="control-input-row">
                                <label for="xInput">X</label>
                                <input id="xInput" name="x" min="0" max="100" step="1" required value="245"></input>
                                <span class="target-state" id="xCurrent"></span>
                            </div>
                            <div class="control-input-row">
                                <label for="zInput">Z</label>
                                <input id="zInput" name="z" min="0" max="100" step="1" required value="1035.6"></input>
                                <span class="target-state" id="zCurrent"></span>
                            </div>
                            <div class="control-input-row">
                                <label for="heightInput">Height</label>
                                <input id="heightInput" name="height" min="0" max="100" step="1" required value="100"></input>
                                <span class="target-state" id="heightCurrent"></span>
                            </div>
                            <div class="control-input-row">
                                <label for="angleInput">Angle</label>
                                <input id="angleInput" name="angle" min="0" max="100" step="1" required value="150"></input>
                                <span class="target-state" id="angleCurrent"></span>
                            </div>

                            <div class="control-panel-buttons">
                                <button id="kinematicInversionButton" type="submit" class="control-btn">Submit</button>
                                <button id="kinematicInversionResetButton" type="reset" class="control-btn control-btn-secondary">Reset</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="flex-row">
                <div id="top" class="three-d-section">
                    <div class="three-d-container">
                        <h3>Top View</h3>
                        <div id="threeContainer" class="three-d-canvas"></div>
                        <div id="robot3DViewPanel" class="three-d-controls"></div>
                    </div>
                </div>

                <div id="side" class="three-d-section">
                    <div class="three-d-container">
                        <h3>Side View</h3>
                        <div id="threeContainer" class="three-d-canvas"></div>
                        <div id="robot3DViewPanel" class="three-d-controls"></div>
                    </div>
                </div>
            </div>
                
            <div class="info-panel">
                <div class="info-card">
                    <h3>Message Info</h3>
                    <p><strong>Update Rate:</strong> 100ms</p>
                    <p><strong>Last Update:</strong> <span id="lastUpdate">Never</span></p>
                    <p><strong>Messages Received:</strong> <span id="messageCount">0</span></p>
                </div>

                <div class="info-card">
                    <h3>Raw Data</h3>
                    <pre id="rawData" class="raw-data">Waiting for data...</pre>
                </div>
            </div>
        </main>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script type="module" src="app.js"></script>
</body>
</html> 